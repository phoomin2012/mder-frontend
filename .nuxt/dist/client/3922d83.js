(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{367:function(t,e,n){"use strict";function r(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}n.d(e,"a",(function(){return r}))},368:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(367);function o(t){Object(r.a)(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},371:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(368),o=n(367);function c(t,e){Object(o.a)(2,arguments);var n=Object(r.a)(t),c=Object(r.a)(e);return n.getTime()-c.getTime()}},390:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(371),o=n(367);function c(t,e){Object(o.a)(2,arguments);var n=Object(r.a)(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},471:function(t,e,n){"use strict";n.r(e);n(4),n(3),n(5),n(2),n(6);var r=n(0),o=(n(1),n(80),n(18),n(21),n(17),n(31),n(12),n(91)),c=n(391),l=n(390),d=n(464);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={data:function(){return{pointerNEDOCS:null,pointerEDWIN:null}},computed:v(v({},Object(o.b)({patients:"patient/all",currentPhysician:"summary/currentPhysician",currentNurse:"summary/currentNurse"})),{},{nedocsScore:function(){var t=0,e=0,n=this.patients.filter((function(p){return p.ventilator})).length;return this.patients.length>0&&(t=Object(l.a)(new Date,Object(d.a)(this.patients.reduce((function(t,e){return Object(l.a)(Object(d.a)(t.entry),Object(d.a)(e.entry))>0?e:t})).entry))/3600,e=Object(l.a)(new Date,Object(d.a)(this.patients.reduce((function(t,e){return Object(l.a)(Object(d.a)(t.entry),Object(d.a)(e.entry))>0?e:t})).entry))/3600),function(t,e,n,r,o){return t/(arguments.length>5&&void 0!==arguments[5]?arguments[5]:6)*85.8+e/(arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e3)*600+13.4*n+.93*r+5.64*o-20}(this.patients.length,0,n,t,e)},edwinScore:function(){var t=this.patients.filter((function(t){return 1===t.triage})).length,e=this.patients.filter((function(t){return 2===t.triage})).length,n=this.patients.filter((function(t){return 3===t.triage})).length,r=this.patients.filter((function(t){return 4===t.triage})).length,o=this.patients.filter((function(t){return 5===t.triage})).length,c=this.currentPhysician+this.currentNurse;return function(t,e,n,r,o,c,l){return(1*c+2*o+3*r+4*n+5*e)/((0===l?1:l)*((arguments.length>7&&void 0!==arguments[7]?arguments[7]:6)-t))}(this.patients.length,t,e,n,r,o,c)}}),watch:{nedocsScore:function(t){this.updatePointerNEDOCS(t)},edwinScore:function(t){this.updatePointerEDWIN(t)},pointerNEDOCS:function(){this.updatePointerNEDOCS(this.nedocsScore)},pointerEDWIN:function(){this.updatePointerEDWIN(this.edwinScore)}},mounted:function(){this.createMeterEDWIN()},methods:{updatePointerNEDOCS:function(t){var e=Math.min(t,200)/200*180-90;this.pointerNEDOCS&&this.pointerNEDOCS.transition().duration(750).attr("transform","rotate(".concat(e,")"))},updatePointerEDWIN:function(t){var e=Math.min(t,2.5)/2.5*180-90;this.pointerEDWIN&&this.pointerEDWIN.transition().duration(750).attr("transform","rotate(".concat(e,")"))},createMeterEDWIN:function(){var t=["#32CD32","#FFFF33","#FF0000"],e=Math.min(300,300)/2,n=.7*e,r=c.e().padAngle(.005).sort(null).value((function(t){return t.value})),svg=c.b("svg").attr("viewBox",[-160,-160,320,168]),o=r([{name:"Active but manageable",value:1.5},{name:"Busy",value:.5},{name:"Crowded",value:.5}]),l=c.a().innerRadius((function(t){return.6*e})).outerRadius((function(t){return e-1})).startAngle((function(t){return t.startAngle/2+-90*Math.PI/180})).endAngle((function(t){return t.endAngle/2+-90*Math.PI/180})).padAngle((function(){return 0}));svg.selectAll("path").data(o).join("path").attr("fill",(function(e){return t[e.index]})).attr("d",l).append("title").text((function(t){return t.data.name})),svg.append("g").attr("font-family","sans-serif").attr("font-size",12).attr("class","label").selectAll("text").data([{name:"Active but manageable",value:0},{name:"Active but manageable",value:1.5},{name:"Busy",value:2},{name:"Crowded",value:2.5}]).enter().append("text").attr("transform",(function(t){return 0===t.value?"rotate(-90) translate(-3, -150)":1.5===t.value?"rotate(".concat(t.value/2.5*180-90-t.value.toString().length,") translate(0, -150)"):2===t.value?"rotate(".concat(t.value/2.5*180-90-t.value.toString().length,") translate(-1, -150)"):2.5===t.value?"rotate(90) translate(-12, -150)":"rotate(".concat(t.value/2.5*180-90-t.value.toString().length,") translate(0, -150)")})).text((function(t){return t.value}));var d=[[5,0],[0,-n],[-5,0],[0,10],[5,0]],f=c.d(),v=svg.append("g").data([d]).attr("class","pointer").attr("transform","translate(0,0)").append("path").attr("d",f).attr("transform",(function(t){return"rotate(-90)"})),h=svg.node();document.getElementById("overcrowd-meter").appendChild(h),this.$set(this,"pointerEDWIN",v)},createMeterNEDOCS:function(){var t=Math.min(300,300)/2,e=.7*t,data=[{name:"Not busy",value:20},{name:"Busy",value:40},{name:"Extremely busy but not overcrowded",value:40},{name:"Overcrowded",value:40},{name:"Severely overcrowded",value:40},{name:"Dangerously overcrowded",value:20}],n=c.e().padAngle(.005).sort(null).value((function(t){return t.value})),svg=c.b("svg").attr("viewBox",[-160,-160,320,168]),r=n(data),o=c.a().innerRadius((function(e){return.6*t})).outerRadius((function(e){return t-1})).startAngle((function(t){return t.startAngle/2+-90*Math.PI/180})).endAngle((function(t){return t.endAngle/2+-90*Math.PI/180})).padAngle((function(){return 0})),l=c.g().domain(data.map((function(t){return t.name}))).range(c.f((function(t){return c.c(.8*t+.1)}),data.length).reverse());svg.selectAll("path").data(r).join("path").attr("fill",(function(t){return l(t.data.name)})).attr("d",o).append("title").text((function(t){return t.data.name})),svg.append("g").attr("font-family","sans-serif").attr("font-size",12).attr("class","label").selectAll("text").data([{name:"Not busy",value:0},{name:"Not busy",value:20},{name:"Busy",value:60},{name:"Extremely busy but not overcrowded",value:100},{name:"Overcrowded",value:140},{name:"Severely overcrowded",value:180},{name:"Dangerously overcrowded",value:200}]).enter().append("text").attr("transform",(function(t){return 0===t.value?"rotate(-90) translate(-3, -150)":20===t.value||60===t.value?"rotate(".concat(t.value/200*180-90-t.value.toString().length,") translate(-2, -150)"):100===t.value?"translate(-9, -150)":140===t.value?"rotate(".concat(t.value/200*180-90-t.value.toString().length,") translate(-2, -150)"):180===t.value?"rotate(".concat(t.value/200*180-90-t.value.toString().length,") translate(-3, -150)"):200===t.value?"rotate(90) translate(-12, -150)":"rotate(".concat(t.value/200*180-90-t.value.toString().length,") translate(0, -150)")})).text((function(t){return t.value}));var d=[[5,0],[0,-e],[-5,0],[0,10],[5,0]],f=c.d(),v=svg.append("g").data([d]).attr("class","pointer").attr("transform","translate(0,0)").append("path").attr("d",f).attr("transform",(function(t){return"rotate(-90)"})),h=svg.node();document.getElementById("overcrowd-meter").appendChild(h),this.$set(this,"pointerNEDOCS",v)}}},m=n(51),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",[n("b-col",[n("b-card",{staticClass:"mb-3",attrs:{title:"EDWIN"}},[t._v("\n        "+t._s(Math.max(0,t.edwinScore))+"\n      ")])],1)],1),t._v(" "),n("b-card",{staticClass:"mb-3",attrs:{title:"Overcrowding meter"}},[n("div",{attrs:{id:"overcrowd-meter"}})])],1)}),[],!1,null,null,null);e.default=component.exports}}]);