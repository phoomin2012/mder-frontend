(window.webpackJsonp=window.webpackJsonp||[]).push([[18,11],{372:function(e,t,r){"use strict";r.r(t);r(71),r(10),r(31),r(21),r(1),r(3),r(52);var n={name:"ErrorHandle",props:{errors:{type:Array,default:function(){return[]}},prefix:{type:String,default:null},name:{type:String,default:""},noValid:{type:Boolean,default:!1}},computed:{_errors:function(){return Array.isArray(this.errors)?this.errors:"string"==typeof this.errors?[this.errors]:[]},state:function(){if(0===this._errors.length)return null;var e=new RegExp("^".concat(this.name,"\\.")),t=!this._errors.filter((function(t){return e.test(t)})).length>0;return t&&this.noValid?null:t},description:function(){if(0===this._errors.length)return null;var e=new RegExp("^".concat(this.name,"\\.")),t=this._errors.filter((function(t){return e.test(t)}));return t.length>0?this.$t("error.form."+(this.prefix?this.prefix+".":"")+t[0]):null}},render:function(){return this.$scopedSlots.default({state:this.state,invalidFeedback:this.description})}},o=r(51),component=Object(o.a)(n,undefined,undefined,!1,null,null,null);t.default=component.exports},572:function(e,t,r){"use strict";r.r(t);var n=r(14),o=(r(56),r(21),r(575)),l=r(372),f=r(131),m={components:{errorHandle:l.default},data:function(){return{form:{errors:[],hospitalNumber:"",bedNumber:"",name:"",lastName:"",triage:5,stage:null,entryDate:Object(o.a)(new Date,"yyyy-MM-dd"),entryTime:Object(o.a)(new Date,"HH:mm")+":00",loading:!1}}},methods:{submitForm:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.form.loading=!0,e.form.errors=[],t.prev=2,t.next=5,e.$axios.post("/api/patient",{id:null,hospitalNumber:e.form.hospitalNumber,bedNumber:e.form.bedNumber,name:e.form.name,lastName:e.form.lastName,triage:e.form.triage,stage:e.form.stage,entryDate:e.form.entryDate,entryTime:e.form.entryTime});case 5:f.c.fire(e.$t("popup.patient.success.create")),e.$router.push("/dashboard"),t.next=17;break;case 9:if(t.prev=9,t.t0=t.catch(2),!t.t0.response){t.next=16;break}if(!t.t0.response.data.error){t.next=16;break}if(!t.t0.response.data.error.form){t.next=16;break}return e.$set(e.form,"errors",t.t0.response.data.error.form),t.abrupt("return");case 16:f.b.fire(e.$t("error.popup.request"));case 17:e.form.loading=!1;case 18:case"end":return t.stop()}}),t,null,[[2,9]])})))()}}},c=r(51),component=Object(c.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[r("fa-icon",{attrs:{icon:"user-injured"}}),e._v("\n    Patient Information\n  ")],1),e._v(" "),r("b-card",[r("b-form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.submitForm.apply(null,arguments)}}},[r("b-row",[r("b-col",{attrs:{cols:"6",sm:"6"}},[r("error-handle",{attrs:{errors:e.form.errors,name:"hospitalNumber",prefix:"patient"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.state,o=t.invalidFeedback;return[r("b-form-group",{attrs:{state:n,"invalid-feedback":o,label:e.$t("patient.hospitalNumber")}},[r("b-input",{attrs:{required:""},model:{value:e.form.hospitalNumber,callback:function(t){e.$set(e.form,"hospitalNumber",t)},expression:"form.hospitalNumber"}})],1)]}}])})],1),e._v(" "),r("b-col",{attrs:{cols:"6",sm:"6"}},[r("error-handle",{attrs:{errors:e.form.errors,name:"bedNumber",prefix:"patient"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.state,o=t.invalidFeedback;return[r("b-form-group",{attrs:{state:n,"invalid-feedback":o,label:e.$t("patient.bedNumber")}},[r("b-input",{model:{value:e.form.bedNumber,callback:function(t){e.$set(e.form,"bedNumber",t)},expression:"form.bedNumber"}})],1)]}}])})],1),e._v(" "),r("b-col",{attrs:{cols:"6",sm:"6"}},[r("error-handle",{attrs:{errors:e.form.errors,name:"name",prefix:"patient"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.state,o=t.invalidFeedback;return[r("b-form-group",{attrs:{state:n,"invalid-feedback":o,label:e.$t("patient.name")}},[r("b-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)]}}])})],1),e._v(" "),r("b-col",{attrs:{cols:"6",sm:"6"}},[r("error-handle",{attrs:{errors:e.form.errors,name:"lastName",prefix:"patient"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.state,o=t.invalidFeedback;return[r("b-form-group",{attrs:{state:n,"invalid-feedback":o,label:e.$t("patient.lastName")}},[r("b-input",{model:{value:e.form.lastName,callback:function(t){e.$set(e.form,"lastName",t)},expression:"form.lastName"}})],1)]}}])})],1),e._v(" "),r("b-col",{attrs:{cols:"6",md:"2"}},[r("error-handle",{attrs:{errors:e.form.errors,name:"triage",prefix:"patient"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.state,o=t.invalidFeedback;return[r("b-form-group",{attrs:{state:n,"invalid-feedback":o,label:e.$t("patient.triage")}},e._l(e.$t("patient.triages"),(function(label,t){return r("b-form-radio",{key:t,attrs:{name:"patient-triage",value:parseInt(t)},model:{value:e.form.triage,callback:function(t){e.$set(e.form,"triage",t)},expression:"form.triage"}},[e._v("\n                "+e._s(label)+"\n              ")])})),1)]}}])})],1),e._v(" "),r("b-col",{attrs:{cols:"6",md:"6"}},[r("error-handle",{attrs:{errors:e.form.errors,name:"stage",prefix:"patient"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.state,o=t.invalidFeedback;return[r("b-form-group",{attrs:{state:n,"invalid-feedback":o,label:e.$t("patient.stage")}},[r("b-select",{attrs:{state:n},model:{value:e.form.stage,callback:function(t){e.$set(e.form,"stage",t)},expression:"form.stage"}},[r("b-select-option",{attrs:{value:null}},[e._v("\n                  "+e._s(e.$t("patient.stages.null"))+"\n                ")]),e._v(" "),r("b-select-option",{attrs:{value:1}},[e._v("\n                  "+e._s(e.$t("patient.stages.triage"))+"\n                ")]),e._v(" "),r("b-select-option",{attrs:{value:2}},[e._v("\n                  "+e._s(e.$t("patient.stages.investigation"))+"\n                ")]),e._v(" "),r("b-select-option",{attrs:{value:3}},[e._v("\n                  "+e._s(e.$t("patient.stages.consultation"))+"\n                ")]),e._v(" "),r("b-select-option",{attrs:{value:4}},[e._v("\n                  "+e._s(e.$t("patient.stages.diagnosis"))+"\n                ")]),e._v(" "),r("b-select-option",{attrs:{value:5}},[e._v("\n                  "+e._s(e.$t("patient.stages.treatment"))+"\n                ")]),e._v(" "),r("b-select-option",{attrs:{value:60}},[e._v("\n                  "+e._s(e.$t("patient.stages.disposition"))+"\n                ")]),e._v(" "),r("b-select-option",{attrs:{value:61}},[e._v("\n                  "+e._s(e.$t("patient.stages.discharged"))+"\n                ")]),e._v(" "),r("b-select-option",{attrs:{value:62}},[e._v("\n                  "+e._s(e.$t("patient.stages.admitted"))+"\n                ")]),e._v(" "),r("b-select-option",{attrs:{value:63}},[e._v("\n                  "+e._s(e.$t("patient.stages.transferred"))+"\n                ")])],1)],1)]}}])})],1),e._v(" "),r("b-col",{attrs:{cols:"6",md:"4"}},[r("error-handle",{attrs:{errors:e.form.errors,name:"entryTime",prefix:"patient"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.state,o=t.invalidFeedback;return[r("b-form-group",{attrs:{state:n,"invalid-feedback":o,label:e.$t("patient.entryTime")}},[r("b-input-group",[r("b-form-datepicker",{attrs:{locale:"th","date-format-options":{year:"numeric",month:"numeric",day:"numeric"},required:""},model:{value:e.form.entryDate,callback:function(t){e.$set(e.form,"entryDate",t)},expression:"form.entryDate"}}),e._v(" "),r("b-form-timepicker",{attrs:{locale:"th",required:""},model:{value:e.form.entryTime,callback:function(t){e.$set(e.form,"entryTime",t)},expression:"form.entryTime"}})],1)],1)]}}])})],1)],1),e._v(" "),r("b-button",{staticClass:"float-right",attrs:{variant:"success",type:"submit"}},[r("fa-icon",{attrs:{icon:"plus"}}),e._v("\n        "+e._s(e.$t("patient.create"))+"\n      ")],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ErrorHandle:r(372).default})}}]);