(window.webpackJsonp=window.webpackJsonp||[]).push([[17,11],{372:function(e,t,r){"use strict";r.r(t);r(71),r(10),r(31),r(21),r(1),r(3),r(52);var n={name:"ErrorHandle",props:{errors:{type:Array,default:function(){return[]}},prefix:{type:String,default:null},name:{type:String,default:""},noValid:{type:Boolean,default:!1}},computed:{_errors:function(){return Array.isArray(this.errors)?this.errors:"string"==typeof this.errors?[this.errors]:[]},state:function(){if(0===this._errors.length)return null;var e=new RegExp("^".concat(this.name,"\\.")),t=!this._errors.filter((function(t){return e.test(t)})).length>0;return t&&this.noValid?null:t},description:function(){if(0===this._errors.length)return null;var e=new RegExp("^".concat(this.name,"\\.")),t=this._errors.filter((function(t){return e.test(t)}));return t.length>0?this.$t("error.form."+(this.prefix?this.prefix+".":"")+t[0]):null}},render:function(){return this.$scopedSlots.default({state:this.state,invalidFeedback:this.description})}},o=r(51),component=Object(o.a)(n,undefined,undefined,!1,null,null,null);t.default=component.exports},574:function(e,t,r){"use strict";r.r(t);var n=r(14),o=(r(56),r(10),r(19),r(50)),l=r.n(o),d=r(70),c={components:{errorHandle:r(372).default},layout:"guest",auth:"guest",data:function(){return{username:"",password:"",loading:!1,errors:[]}},created:function(){this.$auth.loggedIn&&this.$router.replace("/dashboard")},methods:{submitLogin:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$auth.loginWith("local",{data:{username:e.username,password:e.password}});case 4:Object(d.a)(e.$auth),t.next=15;break;case 7:if(t.prev=7,t.t0=t.catch(0),e.loading=!1,!t.t0.response){t.next=14;break}if(!t.t0.response.data.error){t.next=14;break}if(!t.t0.response.data.error.form){t.next=14;break}return t.abrupt("return",e.$set(e,"errors",t.t0.response.data.error.form));case 14:l.a.fire(e.$t("error.popup.request"));case 15:e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}},f=r(51),component=Object(f.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h2",{staticClass:"text-center mt-5 mb-5"},[e._v("\n    Monitoring Dashboard for Emergency Room\n  ")]),e._v(" "),r("b-card",[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.submitLogin.apply(null,arguments)}}},[r("error-handle",{attrs:{errors:e.errors,prefix:"login",name:"username"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.state,o=t.invalidFeedback;return[r("b-form-group",{attrs:{state:n,"invalid-feedback":o,label:e.$t("staff.username")}},[r("b-input",{attrs:{state:n,required:"",disabled:e.loading},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)]}}])}),e._v(" "),r("error-handle",{attrs:{errors:e.errors,prefix:"login",name:"password"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.state,o=t.invalidFeedback;return[r("b-form-group",{attrs:{state:n,"invalid-feedback":o,label:e.$t("staff.password")}},[r("b-input",{attrs:{state:n,type:"password",required:"",disabled:e.loading},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)]}}])}),e._v(" "),r("b-button",{attrs:{block:"",type:"submit",variant:"outline-success",disabled:e.loading}},[e._v("\n        "+e._s(e.$t("login.button"))+"\n      ")])],1)],1),e._v(" "),r("div",{staticClass:"text-center mt-5"},[r("b-button",{attrs:{variant:"link",disabled:"th"===e.$i18n.locale},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$i18n.setLocale("th")}}},[e._v("\n      ไทย\n    ")]),e._v(" "),r("b-button",{attrs:{variant:"link",disabled:"en"===e.$i18n.locale},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$i18n.setLocale("en")}}},[e._v("\n      English\n    ")])],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ErrorHandle:r(372).default})}}]);