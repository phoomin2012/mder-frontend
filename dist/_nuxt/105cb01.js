(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{571:function(t,e,n){"use strict";n.r(e);var r=n(14),o=(n(21),n(56),n(131)),f={data:function(){return{items:[],loading:!1}},computed:{fields:function(){return[{key:"_id",label:"#"},{key:"username",label:this.$t("staff.username")},{key:"name",label:this.$t("staff.name")},{key:"lastName",label:this.$t("staff.lastName")},{key:"role",label:this.$t("staff.role")},{key:"actions",label:this.$t("table.actions")}]},filteredItems:function(){return this.items}},created:function(){this.fetchItems()},methods:{fetchItems:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.$axios.get("/api/staff");case 4:n=e.sent,data=n.data,t.$set(t,"items",data),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:t.loading=!1;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},promptRemove:function(t){var e=this;o.a.fire({title:this.$t("popup.staff.remove.title",[t.name,t.lastName]),text:this.$t("popup.staff.remove.text"),icon:"question",preConfirm:function(){return e.$axios.delete("/api/staff/".concat(t._id))}}).then((function(t){var n=t.value;n.data&&n.data.success&&(e.$set(e,"items",n.data.list),o.c.fire(e.$t("popup.staff.success.remove")))}))}}},c=n(51),component=Object(c.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Staff Management")]),t._v(" "),n("b-card",{attrs:{"no-body":""}},[n("b-card-header",[n("b-button",{staticClass:"float-right",attrs:{to:"/staff/new",size:"sm",variant:"success"}},[n("fa-icon",{attrs:{icon:"plus"}}),t._v("\n        "+t._s(t.$t("staff.new"))+"\n      ")],1)],1),t._v(" "),n("b-overlay",{attrs:{show:t.loading,rounded:"sm"}},[n("b-table",{staticClass:"mb-0",attrs:{fields:t.fields,items:t.filteredItems,responsive:""},scopedSlots:t._u([{key:"cell(_id)",fn:function(data){return[t._v("\n          "+t._s(data.index+1)+"\n        ")]}},{key:"cell(role)",fn:function(data){return[t._v("\n          "+t._s(t.$t("staff.roles."+data.item.role))+"\n        ")]}},{key:"cell(actions)",fn:function(data){return[n("b-button",{attrs:{size:"sm",variant:"warning",to:"/staff/"+data.item._id}},[n("fa-icon",{attrs:{icon:"edit"}}),t._v("\n            "+t._s(t.$t("staff.edit"))+"\n          ")],1),t._v(" "),n("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.promptRemove(data.item)}}},[n("fa-icon",{attrs:{icon:"trash-alt"}}),t._v("\n            "+t._s(t.$t("staff.remove"))+"\n          ")],1)]}}])})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);